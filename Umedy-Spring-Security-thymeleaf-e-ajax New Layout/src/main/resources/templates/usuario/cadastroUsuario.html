<!DOCTYPE html>
<html xmlns:layout="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.w3.org/1999/xhtml" layout:decorate="~{layout}">
<head>
<meta charset="UTF-8" />
</head>
<body>

	<section layout:fragment="corpo">

		<!--begin::Content-->
		<div class="content d-flex flex-column flex-column-fluid"
			id="kt_content">
			<!--begin::Subheader-->
			<div class="subheader py-2 py-lg-6 subheader-solid" id="kt_subheader">
				<div
					class="container-fluid d-flex align-items-center justify-content-between flex-wrap flex-sm-nowrap">
					<!--begin::Info-->
					<div class="d-flex align-items-center flex-wrap mr-1">
						<!--begin::Page Heading-->
						<div class="d-flex align-items-baseline flex-wrap mr-5">
							<!--begin::Page Title-->
							<h5 class="text-dark font-weight-bold my-1 mr-5">Adicionar
								Usuário</h5>
							<!--end::Page Title-->
							<!--begin::Breadcrumb-->
							<ul
								class="breadcrumb breadcrumb-transparent breadcrumb-dot font-weight-bold p-0 my-2 font-size-sm">
								<li class="breadcrumb-item"><a th:href="@{/home}"
									class="text-muted">Home</a></li>
								<li class="breadcrumb-item"><a href="" class="text-muted">Aplicações
								</a></li>
								<li class="breadcrumb-item"><a href="" class="text-muted">
										Usuários</a></li>
								<li class="breadcrumb-item"><a href="" class="text-muted">Adicionar
										Usuário</a></li>
							</ul>
							<!--end::Breadcrumb-->
						</div>
						<!--end::Page Heading-->
					</div>
					<!--end::Info-->
				</div>
			</div>
			<!--begin::Entry-->
			<div class="d-flex flex-column-fluid">
				<!--begin::Container-->
				<div class="container">
					<div class="row">
						<div class="col-lg-12">
							<div th:replace="fragments/alert :: alerta-sucesso"></div>
						</div>
					</div>
				</div>
			</div>
			<!--begin::Entry-->
			<div class="d-flex flex-column-fluid">
				<!--begin::Container-->
				<div class="container">
					<div class="row">
						<div class="col-lg-12">
							<!--begin::Card-->
							<div class="card card-custom gutter-b example example-compact">
								<div class="card-header">
									<h3 class="card-title">Formulário de Cadastro</h3>
								</div>

								<!--begin::Form-->
								<form method="POST" id="cadastroUsuario" name="cadastroUsuario"
									th:action="@{/u/cadastro/salvar}" th:object="${usuario}"
									class="was-validated">
									<div class="card-body">
										<div class="form-group row">
											<label class="col-form-label text-right col-lg-3 col-sm-12">Email
												*</label>
											<div class="col-lg-9 col-md-9 col-sm-12">
												<input type="text" class="form-control" name="email"
													id="email" placeholder="Email" th:field="*{email}" required />
												<div class="invalid-feedback">Email é requerido.</div>
											</div>
										</div>

										<div class="form-group row">
											<label class="col-form-label text-right col-lg-3 col-sm-12">Senha
												*</label>
											<div class="col-lg-9 col-md-9 col-sm-12">
												<div class="input-group">
													<div class="input-group-prepend">
														<span class="input-group-text"> <i
															class="flaticon2-lock"></i>
														</span>
													</div>
													<input type="password" class="form-control" name="senha"
														placeholder="Senha" th:field="*{senha}" required />
													<div class="invalid-feedback">Senha é requerida para
														confirmar a operação.</div>
												</div>
											</div>
										</div>

										<div class="form-group row">
											<label class="col-form-label text-right col-lg-3 col-sm-12">Perfil
												*</label>
											<div class="col-lg-9 col-md-9 col-sm-12">
												<select class="form-control" th:field="*{perfis}"
													name="perfis" required>
													<option value="1">Analista</option>
													<option value="2">Supervisor</option>
													<option value="3">Coordenador</option>
													<option value="4">Gerente</option>
													<option value="5">Administrador</option>
												</select> <input type="hidden" value="0" name="perfis" />
												<div class="invalid-feedback">Pelo menos um perfil é
													requerido.</div>
											</div>
										</div>

										<div class="form-group row">
											<label class="col-form-label text-right col-lg-3 col-sm-12">Cadastro
												ativo? *</label>
											<div class="col-lg-9 col-md-9 col-sm-12">
												<div class="form-check checkbox-inline">
													<label class="checkbox checkbox-outline"> <input
														type="checkbox" name="checkbox" id="checkbox"
														th:field="*{ativo}" /> <span></span>
													</label>
												</div>
											</div>
										</div>

										<input type="hidden" th:field="*{id}">

										<div class="card-footer">
											<div class="col-lg-9 ml-lg-auto">
												<button type="submit"
													class="btn btn-primary font-weight-bold mr-2"
													title="Salvar usuário" data-toggle="tooltip"
													data-placement="left">Salvar</button>
												<button type="reset"
													class="btn btn-light-primary font-weight-bold"
													title="Cancelar" data-toggle="tooltip"
													data-placement="right">Cancelar</button>
											</div>
										</div>
									</div>
								</form>
								<!--end::Form-->
							</div>

						</div>

					</div>
				</div>
			</div>
			<!--end::Container-->
		</div>
		<!--end::Entry-->

	</section>

	<script>
    $(function() {
        // validation needs name of the element
        $('#food').multiselect();

        // initialize after multiselect
        $('#basic-form').parsley();  
    });
    
    </script>

	<script th:src="~{}" th:fragment="js"></script>
	<script th:inline="javascript" th:fragment="inlinescript">
	
	
		$('#perfis').ready(function(){
			var perfis = [[${usuario.perfis}]];
			$.each(perfis, function(k, v) {
				$('#perfis option[value="'+ v.id +'"]').attr('selected', 'selected');
			})
		});
	</script>
</body>
</html>














